cmake_minimum_required (VERSION 3.8)

add_library (Rendering
	"public/d3dx12.h"
	"public/Window.h"
	"private/Window.cpp"
	"public/WindowMeta.h"
	"private/WindowMeta.cpp"
	"private/WindowUpdateJobSystemMeta.h"
	"private/WindowUpdateJobSystemMeta.cpp"
	"public/DXDevice.h"
	"private/DXDevice.cpp"
	"public/DXDeviceMeta.h"
	"private/DXDeviceMeta.cpp"
	"public/Rendering.h"
	"private/Rendering.cpp"
	"public/DXCommandQueue.h"
	"public/DXCommandQueueMeta.h"
	"private/DXCommandQueueMeta.cpp"
	"private/DXCommandQueue.cpp"
	"public/DXSwapChainMeta.h"
	"private/DXSwapChainMeta.cpp"
	"public/DXSwapChain.h"
	"private/DXSwapChain.cpp"
	"public/DXFenceMeta.h"
	"private/DXFenceMeta.cpp"
	"public/DXFence.h"
	"private/DXFence.cpp"
	"public/WaitFence.h"
	"private/WaitFence.cpp"
	"public/DXRendererMeta.h"
	"private/DXRendererMeta.cpp"
	"public/DXRenderer.h"
	"private/DXRenderer.cpp"
	"private/ResourceUtils/DXCopyBuffers.h"
	"private/RenderPass/DXClearRTRP.cpp"
	"private/ResourceUtils/DXCopyBuffersMeta.h"
	"private/RenderPass/DXClearRTRPMeta.cpp"
	"private/RenderPassMeta.cpp"
	"private/RenderPass.cpp"
	
	
	"private/RenderFenceMeta.h"
	"private/RenderFenceMeta.cpp"
	"private/RenderUtils.h"
	"private/RenderUtils.cpp"
	"private/RenderPassMeta.h"
	"private/RenderPassMeta.cpp"
	"private/RenderPass.h"
	"private/RenderPass.cpp"
	"public/MainJobSystemMeta.h"
	"private/MainJobSystemMeta.cpp"
	"public/DXHeap.h"
	"private/DXHeap.cpp"
	"public/DXHeapMeta.h"
	"private/DXHeapMeta.cpp"
	"private/LoadJobSystemMeta.h"
	"private/LoadJobSystemMeta.cpp"
	
	
	"public/DXBuffer.h"
	"private/DXBuffer.cpp"
	"public/DXBufferMeta.h"
	"private/DXBufferMeta.cpp"
	"public/DXCameraMeta.h"
	"private/DXCameraMeta.cpp"
	"public/DXCamera.h"
	"private/DXCamera.cpp"
	"public/DXCameraBufferMeta.h"
	"private/DXCameraBufferMeta.cpp"
	"public/DXShader.h"
	"private/DXShader.cpp"
	"public/DXShaderMeta.h"
	"private/DXShaderMeta.cpp"
	"private/DXVertexShaderMeta.h"
	"private/DXVertexShaderMeta.cpp"
	"private/DXPixelShaderMeta.h"
	"private/DXPixelShaderMeta.cpp"
	"private/DXComputeShaderMeta.h"
	"private/DXComputeShaderMeta.cpp"
	"private/Materials/DXUnlitErrorMaterial.h"
	"public/DXMaterial.h"
	"private/DXMaterial.cpp"
	"public/DXMaterialMeta.h"
	"private/DXMaterialMeta.cpp"
	"private/Materials/DXUnlitErrorMaterial.cpp"
	"public/DXCopyCommandQueue.h"
	"private/DXCopyCommandQueue.cpp"
	"public/DXCopyCommandQueueMeta.h"
	"private/DXCopyCommandQueueMeta.cpp"
	"private/ResourceUtils/DXCopyBuffers.h"
	"private/ResourceUtils/DXCopyBuffers.cpp"
	"private/ResourceUtils/DXCopyBuffersMeta.h"
	"private/ResourceUtils/DXCopyBuffersMeta.cpp"
	"public/DXScene.h"
	"private/DXScene.cpp"
	"public/DXSceneMeta.h"
	"private/DXSceneMeta.cpp"
	"private/Materials/DXUnlitErrorMaterialMeta.h"
	"private/Materials/DXUnlitErrorMaterialMeta.cpp"
	"private/ResourceUtils/DXCopyFenceMeta.cpp"
	"private/Materials/DXUnlitErrorMaterial.h"
	"private/Materials/DXUnlitErrorMaterial.cpp"
	"public/UpdaterMeta.h"
	"private/UpdaterMeta.cpp"
	"public/Updater.h"
	"private/Updater.cpp"
	"private/RenderPass/DXUnlitRPMeta.h"
	"private/RenderPass/DXUnlitRPMeta.cpp"
	"private/RenderPass/DXUnlitRP.h"
	"private/RenderPass/DXUnlitRP.cpp"
	"public/DXMaterialRepo.h"
	"private/DXMaterialRepo.cpp"
	"public/DXMaterialRepoMeta.h"
	"private/DXMaterialRepoMeta.cpp"
	"private/DXTexture.cpp"
	"public/DXTexture.h"
	"private/DXTextureMeta.cpp"
	"public/DXTextureMeta.h"
	"private/DXDepthStencilTextureMeta.h"
	"private/DXDepthStencilTextureMeta.cpp"
	"public/DXDescriptorHeapMeta.h"
	"private/DXDescriptorHeapMeta.cpp"
	"public/DXDescriptorHeap.h"
	"private/DXDescriptorHeap.cpp"
	"private/DXDepthStencilDescriptorHeapMeta.cpp"
	"private/DXDepthStencilDescriptorHeapMeta.h"
	"private/RenderPass/DXClearDSTRPMeta.h"
	"private/RenderPass/DXClearDSTRPMeta.cpp"
	"private/RenderPass/DXClearDSTRP.h"
	"private/RenderPass/DXClearDSTRP.cpp"
	"private/Materials/DXUnlitMaterialMetaTag.h"
	"private/Materials/DXUnlitMaterialMetaTag.cpp"
	"private/Materials/SharederRepo.h"
	"private/Materials/SharederRepo.cpp"
	"private/Materials/DXUnlitMaterialMeta.h"
	"private/Materials/DXUnlitMaterialMeta.cpp"
	"private/Materials/DXUnlitMaterial.h"
	"private/Materials/DXUnlitMaterial.cpp"
	"private/Deferred/DeferredRendering.h"
	"private/Deferred/DeferredRendering.cpp"
	"private/Deferred/DXGBufferDuffuseTexMeta.h"
	"private/Deferred/DXGBufferDiffuseTexMeta.cpp"
	"private/Deferred/DXGBufferNormalTexMeta.h"
	"private/Deferred/DXGBufferNormalTexMeta.cpp"
	"private/Deferred/DXGBufferPositionTexMeta.h"
	"private/Deferred/DXGBufferPositionTexMeta.cpp"
	"private/RenderPass/DXDeferredRPMeta.h"
	"private/RenderPass/DXDeferredRPMeta.cpp"
	"private/RenderPass/DXDeferredRP.h"
	"private/RenderPass/DXDeferredRP.cpp"
	"private/Materials/DXDeferredMaterial.h"
	"private/Materials/DXDeferredMaterial.cpp"
	"private/Materials/DXDeferredMaterialMeta.h"
	"private/Materials/DXDeferredMaterialMeta.cpp"
	"private/Materials/DXDeferredMaterialMetaTag.h"
	"private/Materials/DXDeferredMaterialMetaTag.cpp")

target_include_directories(Rendering INTERFACE PUBLIC "${CMAKE_CURRENT_SOURCE_DIR}/public")
target_include_directories(Rendering PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/private")

target_link_libraries(Rendering INTERFACE PUBLIC Jobs DataLib Collada)

target_link_libraries(Rendering PRIVATE "d3d12.lib" "dxgi.lib" "d3dcompiler.lib" "dxguid.lib")

if (CMAKE_VERSION VERSION_GREATER 3.12)
  set_property(TARGET Rendering PROPERTY CXX_STANDARD 20)
endif()
